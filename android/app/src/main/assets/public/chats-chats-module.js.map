{"version":3,"sources":["./src/app/PAGES/chats/chats-routing.module.ts","./src/app/PAGES/chats/chats.page.html","./src/app/PAGES/chats/chats.module.ts","./src/app/PAGES/chats/chats.page.scss","./src/app/PAGES/chats/chats.page.ts"],"names":[],"mappings":"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","file":"chats-chats-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChatsPage } from './chats.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChatsPageRoutingModule {}\n","export default \"\\n<ion-content>\\n  <div *ngFor= \\\"let chat of chats; index as i\\\">\\n    <div class=\\\"chats\\\" (click)=\\\"selectChat(chat)\\\">\\n      <ion-avatar class=\\\"chats_avatar\\\">\\n        <img class=\\\"chats_profile_pic\\\"\\n        src= \\\"https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y\\\" />\\n      </ion-avatar>\\n      <div class=\\\"chats_name\\\">\\n        <div><strong>{{ chat.name }}</strong></div>\\n        <div><p>{{ getLastMessage(i) }}</p></div>\\n      </div>\\n      <div class=\\\"chat_time\\\">{{ getLastMessageTime(i) | date: 'shortTime' }}</div>\\n    </div>\\n</div>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChatsPageRoutingModule } from './chats-routing.module';\n\nimport { ChatsPage } from './chats.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ChatsPageRoutingModule\n  ],\n  declarations: [ChatsPage]\n})\nexport class ChatsPageModule {}\n","export default \".chats {\\n  color: black;\\n  display: flex;\\n  justify-content: space-around;\\n  margin: 4px;\\n  padding: 4px;\\n  border-bottom: solid #e7e5e5 0.5px;\\n}\\n\\n.chats_name {\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1;\\n  margin-left: 2px;\\n  margin-top: 4px;\\n}\\n\\n.chats_avatar {\\n  width: 50px;\\n  height: 50px;\\n  margin-right: 0px;\\n}\\n\\n.chats_profile_pic {\\n  object-fit: contain;\\n  height: 40px;\\n  width: 40px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2NoYXRzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7RUFDQSxhQUFBO0VBQ0EsNkJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtDQUFBO0FBQ0o7O0FBQ0E7RUFDSSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxPQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0FBRUo7O0FBQUE7RUFDSSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0FBR0o7O0FBREE7RUFDSSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FBSUoiLCJmaWxlIjoiY2hhdHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNoYXRze1xuICAgIGNvbG9yOiBibGFjaztcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgIG1hcmdpbjogNHB4O1xuICAgIHBhZGRpbmc6IDRweDtcbiAgICBib3JkZXItYm90dG9tOiBzb2xpZCByZ2IoMjMxLCAyMjksIDIyOSkgMC41cHg7XG59XG4uY2hhdHNfbmFtZXtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZmxleDogMTtcbiAgICBtYXJnaW4tbGVmdDogMnB4O1xuICAgIG1hcmdpbi10b3A6IDRweDtcbn1cbi5jaGF0c19hdmF0YXJ7XG4gICAgd2lkdGg6IDUwcHg7XG4gICAgaGVpZ2h0OiA1MHB4O1xuICAgIG1hcmdpbi1yaWdodDogMHB4O1xufVxuLmNoYXRzX3Byb2ZpbGVfcGlje1xuICAgIG9iamVjdC1maXQ6IGNvbnRhaW47XG4gICAgaGVpZ2h0OiA0MHB4O1xuICAgIHdpZHRoOiA0MHB4O1xufVxuXG5cbiJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { NavigationExtras } from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { ApiService } from 'src/app/SERVICES/api.service';\nimport { formatDate } from '@angular/common';\n\n@Component({\n  selector: 'app-chats',\n  templateUrl: './chats.page.html',\n  styleUrls: ['./chats.page.scss'],\n})\nexport class ChatsPage implements OnInit {\n  chats: any[] = [];\n  messages: any[] = [];\n  date: number;\n  createdDate: number;\n\n  constructor(private navCtl: NavController,\n    private api: ApiService) { }\n\n  ngOnInit() {\n    this.getAllChats();\n  }\n  \n  selectChat(chat: any){\n    let navigationExtra: NavigationExtras ={\n      state:{\n        chat: chat\n      }\n    }\n    this.navCtl.navigateForward('messages', navigationExtra);\n  }\n\n  getAllChats(){\n   this.api.getChats()\n    .subscribe(resp => {\n      this.chats = resp;\n    });\n  }\n  getLastMessage(index: number){\n    this.messages = this.chats[index].messages;\n    if(this.messages.length == 0) return '';\n    return this.messages[this.messages.length - 1].message;\n    \n  }\n\n  getLastMessageTime(index: number){\n    this.messages = this.chats[index].messages;\n    if(this.messages.length == 0) return '';\n    return this.date = this.messages[this.messages.length - 1].time;\n\n  }\n\n  \n  \n\n}\n"],"sourceRoot":"webpack:///"}